<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hannah Stone</title>
  
  <!-- Multiple favicon formats for better browser compatibility -->
  <link rel="icon" href="images/favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
  
  <style>
    :root {
      --primary-color: #4B6BFB;
      --secondary-color: #FF8271;
      --accent-color: #73A5FF;
      --text-color: #333;
      --light-gray: #f6f6f6;
      --medium-gray: #ddd;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      scroll-behavior: smooth;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      line-height: 1.5;
      color: var(--text-color);
      max-width: 850px;
      margin: 0 auto;
      padding: 1rem 2rem 4rem;
      font-size: 15px; /* Base font size reduced */
    }
    
    /* Clean header with logo */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.75rem 0 1.5rem;
      border-bottom: 1px solid var(--light-gray);
      margin-bottom: 2.5rem;
      position: relative;
    }
    
    .logo {
      height: 28px; /* Made the logo smaller (was 32px) */
      width: auto;
    }
    
    .nav-menu {
      display: flex;
      gap: 1.5rem;
    }
    
    .nav-link {
      text-decoration: none;
      color: var(--text-color);
      font-weight: 500;
      font-size: 0.85rem; /* Smaller nav links (was 0.9rem) */
      transition: color 0.2s;
    }
    
    .nav-link:hover {
      color: var(--accent-color);
    }
    
    /* Hamburger menu for mobile */
    .menu-toggle {
      display: none;
      flex-direction: column;
      justify-content: space-between;
      width: 24px;
      height: 20px;
      cursor: pointer;
    }
    
    .menu-toggle span {
      height: 2px;
      width: 100%;
      background-color: var(--text-color);
      border-radius: 2px;
      transition: all 0.3s ease;
    }
    
    .profile-container {
      display: flex;
      align-items: flex-start;
      gap: 2.5rem;
      margin-bottom: 2.5rem;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeIn 0.8s ease forwards;
    }
    
    .profile-photo {
      width: 160px; /* Smaller profile photo */
      height: 160px;
      border-radius: 50%;
      object-fit: cover;
      overflow: hidden;
      flex-shrink: 0;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    .profile-photo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .profile-content {
      flex-grow: 1;
    }
    
    h1 {
      font-size: 2.1rem; /* Smaller heading */
      margin-bottom: 0.75rem;
      font-weight: 600;
    }
    
    p {
      font-size: 1rem; /* Smaller paragraph text */
      margin-bottom: 1.25rem;
      max-width: 550px; /* Reduced width for better readability */
      line-height: 1.6;
    }
    
    .social-links {
      display: flex;
      gap: 0.75rem;
    }
    
    .icon-link {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 34px; /* Smaller icons (was 38px) */
      height: 34px; /* Smaller icons (was 38px) */
      border-radius: 50%;
      background-color: var(--accent-color);
      color: white;
      transition: transform 0.2s, background-color 0.2s;
      box-shadow: 0 2px 5px rgba(115, 165, 255, 0.3);
    }
    
    .icon-link:hover {
      transform: translateY(-3px);
      background-color: var(--primary-color);
      box-shadow: 0 5px 10px rgba(75, 107, 251, 0.4);
    }
    
    section {
      margin-bottom: 2.5rem;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeIn 0.8s ease forwards;
      animation-delay: calc(var(--section-index) * 0.2s);
    }
    
    @keyframes fadeIn {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    #things {
      --section-index: 1;
    }
    
    #places {
      --section-index: 2;
    }
    
    #enjoy {
      --section-index: 3;
    }
    
    h2 {
      font-size: 1.5rem; /* Smaller section headings */
      margin-bottom: 1rem;
      font-weight: 600;
      position: relative;
      display: inline-block;
    }
    
    h2::after {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 0;
      width: 100%;
      height: 2px; /* Thinner underline */
      background-color: var(--accent-color);
      border-radius: 2px;
    }
    
    ul {
      list-style-type: none;
    }
    
    li {
      position: relative;
      padding-left: 1.25rem;
      margin-bottom: 0.75rem;
      font-size: 0.95rem; /* Smaller list items */
    }
    
    li::before {
      content: '•';
      position: absolute;
      left: 0;
      color: var(--accent-color);
      font-weight: bold;
    }
    
    a.interest-link {
      color: var(--primary-color);
      text-decoration: underline;
      font-weight: 500;
      font-size: 0.9rem; /* Smaller interest links (new) */
      transition: color 0.2s;
    }
    
    a.interest-link:hover {
      color: var(--secondary-color);
    }
    
    /* Enhanced interest links */
    .enhanced-link {
      display: inline-block;
      padding: 6px 12px;
      background-color: var(--light-gray);
      border-radius: 20px;
      text-decoration: none;
      color: var(--primary-color);
      font-weight: 600;
      transition: transform 0.2s, background-color 0.2s;
      margin-right: 6px;
    }
    
    .enhanced-link:hover {
      transform: translateY(-2px);
      background-color: #e8eaff;
    }
    
    /* Subtle link style */
    .subtle-link {
      color: inherit;
      text-decoration: none;
      border-bottom: 1px dotted #999;
      transition: border-bottom 0.2s;
    }
    
    .subtle-link:hover {
      border-bottom: 1px solid #666;
    }
    
    /* Highlighted company names */
    .company-highlight {
      background-color: rgba(115, 165, 255, 0.15);
      padding: 0 3px;
      border-radius: 3px;
    }
    
    /* Enjoyment pills */
    .enjoyment-pills {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 1rem;
    }
    
    .pill {
      display: inline-flex;
      align-items: center;
      padding: 8px 15px;
      background-color: var(--light-gray);
      border-radius: 25px;
      font-size: 0.9rem;
      font-weight: 500;
      color: var(--text-color);
      transition: all 0.2s ease;
      cursor: default;
      position: relative;
    }
    
    .pill:hover {
      background-color: rgba(115, 165, 255, 0.15);
      transform: translateY(-2px);
    }
    
    .pill-icon {
      margin-right: 6px;
      font-size: 1.1rem;
    }
    
    .pill-link {
      text-decoration: none;
      color: inherit;
    }
    
    .pill-tooltip {
      position: absolute;
      top: -40px;
      left: 50%;
      transform: translateX(-50%) scale(0.8);
      background-color: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 5px 10px;
      border-radius: 5px;
      font-size: 0.75rem;
      opacity: 0;
      visibility: hidden;
      transition: all 0.2s ease;
      white-space: nowrap;
      z-index: 100;
    }
    
    .pill-tooltip::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 50%;
      transform: translateX(-50%);
      border-width: 5px 5px 0;
      border-style: solid;
      border-color: rgba(0, 0, 0, 0.8) transparent transparent;
    }
    
    .pill:hover .pill-tooltip {
      opacity: 1;
      visibility: visible;
      transform: translateX(-50%) scale(1);
    }
    
    /* New card grid layout for interests */
    .interests-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 2rem;
    }
    
    .interest-card {
      position: relative;
      border-radius: 12px;
      overflow: hidden;
      background-color: #f9f9f9;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
      cursor: pointer;
      height: 180px; /* Fixed initial height */
    }
    
    .interest-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }
    
    .interest-card.expanded {
      grid-column: 1 / -1; /* Span all columns when expanded */
      height: auto;
      max-height: 500px;
      transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
    }
    
    .card-category {
      position: absolute;
      top: 10px;
      left: 10px;
      padding: 5px 10px;
      border-radius: 15px;
      background-color: var(--accent-color);
      color: white;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      z-index: 10;
    }
    
    .card-content {
      position: relative;
      padding: 20px;
      z-index: 2;
    }
    
    .card-bg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-size: cover;
      background-position: center;
      filter: brightness(0.8);
      z-index: 1;
    }
    
    .card-title {
      position: relative;
      color: white;
      font-size: 1.4rem;
      font-weight: 700;
      margin-bottom: 10px;
      margin-top: 60px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
      z-index: 2;
    }
    
    .card-description {
      position: relative;
      color: white;
      font-size: 0.9rem;
      line-height: 1.5;
      margin-bottom: 20px;
      display: none; /* Hidden by default */
      text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
      z-index: 2;
    }
    
    .card-link {
      position: relative;
      display: inline-block;
      padding: 8px 15px;
      background-color: white;
      color: var(--accent-color);
      border-radius: 20px;
      font-weight: 600;
      font-size: 0.85rem;
      text-decoration: none;
      margin-top: 10px;
      opacity: 0;
      transform: translateY(10px);
      transition: all 0.3s ease;
      z-index: 2;
    }
    
    .interest-card.expanded .card-description {
      display: block;
      animation: fadeIn 0.5s forwards;
    }
    
    .interest-card.expanded .card-link {
      opacity: 1;
      transform: translateY(0);
    }
    
    .card-overlay {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to top, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.2) 60%, rgba(0, 0, 0, 0) 100%);
      z-index: 1;
    }
    
    /* Scroll indicator */
    .scroll-indicator {
      position: fixed;
      top: 0;
      left: 0;
      height: 3px;
      background-color: var(--accent-color);
      width: 0%;
      z-index: 1000;
      transition: width 0.1s ease;
    }
    
    /* New web diagram styles */
    .web-container {
      position: relative;
      width: 100%;
      height: 600px;
      margin: 2rem auto;
      overflow: hidden;
    }
    
    .web-node {
      position: absolute;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      z-index: 10;
      overflow: hidden;
      background-color: white;
      border: 2px solid var(--accent-color);
      opacity: 0;
      transform: scale(0);
      color: var(--text-color);
      font-weight: 600;
      text-align: center;
    }
    
    .web-node.visible {
      opacity: 1;
      transform: scale(1);
    }
    
    .web-node:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
      z-index: 20;
    }
    
    .web-node.root {
      width: 120px;
      height: 120px;
      top: 50%;
      left: 50%;
      margin-top: -60px;
      margin-left: -60px;
      background-color: var(--accent-color);
      color: white;
      font-size: 1.1rem;
      z-index: 15;
    }
    
    .web-node.category {
      width: 100px;
      height: 100px;
      font-size: 0.9rem;
      background-color: rgba(255, 255, 255, 0.9);
    }
    
    .web-node.subcategory {
      width: 90px;
      height: 90px;
      font-size: 0.8rem;
      background-color: rgba(255, 255, 255, 0.8);
    }
    
    .web-node.item {
      width: 80px;
      height: 80px;
      font-size: 0.75rem;
      background-color: rgba(255, 255, 255, 0.7);
    }
    
    .web-node.detail {
      width: 240px;
      height: 240px;
      border-radius: 10px;
      display: block;
      padding: 15px;
      overflow-y: auto;
      text-align: left;
      font-weight: normal;
      font-size: 0.85rem;
      line-height: 1.5;
    }
    
    .detail-title {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 10px;
      color: var(--accent-color);
    }
    
    .detail-content {
      margin-bottom: 8px;
    }
    
    .web-link {
      display: inline-block;
      margin-top: 8px;
      color: var(--accent-color);
      text-decoration: none;
      font-weight: 500;
      transition: color 0.2s;
    }
    
    .web-link:hover {
      color: var(--primary-color);
      text-decoration: underline;
    }
    
    .web-line {
      position: absolute;
      height: 2px;
      background-color: rgba(115, 165, 255, 0.3);
      transform-origin: 0 0;
      z-index: 5;
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    
    .web-line.visible {
      opacity: 1;
    }
    
    .web-node-icon {
      font-size: 1.6rem;
      margin-bottom: 5px;
    }
    
    .node-contents {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100%;
      width: 100%;
    }
    
    .back-button {
      position: absolute;
      top: 8px;
      right: 8px;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      background-color: var(--light-gray);
      cursor: pointer;
      transition: background-color 0.2s;
      z-index: 5;
    }
    
    .back-button:hover {
      background-color: #e0e0e0;
    }
    
    .reset-button {
      display: inline-block;
      margin-top: 1rem;
      padding: 8px 16px;
      background-color: var(--light-gray);
      border: none;
      border-radius: 20px;
      color: var(--text-color);
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .reset-button:hover {
      background-color: rgba(115, 165, 255, 0.15);
      transform: translateY(-2px);
    }
    
    @media (max-width: 768px) {
      .profile-container {
        flex-direction: column;
        align-items: center;
        text-align: center;
        gap: 1.5rem;
      }
      
      .profile-photo {
        width: 140px;
        height: 140px;
      }
      
      .social-links {
        justify-content: center;
      }
      
      h2 {
        display: block;
        text-align: center;
      }
      
      .header {
        flex-direction: column;
        gap: 1rem;
      }
      
      .menu-toggle {
        display: flex;
        position: absolute;
        top: 0.75rem;
        right: 0;
      }
      
      .nav-menu {
        flex-direction: column;
        width: 100%;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease;
        gap: 0.5rem;
        opacity: 0;
      }
      
      .nav-menu.active {
        max-height: 300px;
        opacity: 1;
        margin-top: 1rem;
      }
      
      .nav-link {
        padding: 0.5rem 0;
        display: block;
        text-align: center;
      }
      
      p {
        max-width: 100%;
      }
      
      .interests-grid {
        grid-template-columns: 1fr;
      }
      
      .interest-card {
        height: 150px;
      }
      
      .card-title {
        margin-top: 40px;
      }
      
      .web-container {
        height: 500px;
      }
      
      .web-node.root {
        width: 100px;
        height: 100px;
        margin-top: -50px;
        margin-left: -50px;
        font-size: 1rem;
      }
      
      .web-node.category {
        width: 80px;
        height: 80px;
        font-size: 0.8rem;
      }
      
      .web-node.subcategory {
        width: 70px;
        height: 70px;
        font-size: 0.7rem;
      }
      
      .web-node.item {
        width: 65px;
        height: 65px;
        font-size: 0.65rem;
      }
      
      .web-node.detail {
        width: 200px;
        height: 200px;
        font-size: 0.8rem;
      }
    }
  </style>
</head>
<body>
  <!-- Scroll indicator -->
  <div class="scroll-indicator"></div>

  <!-- Simple header with logo and navigation -->
  <header class="header">
    <a href="/">
      <img src="images/hannahstone-logo.png" alt="Hannah Stone" class="logo">
    </a>
    <div class="menu-toggle" id="menu-toggle">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <nav class="nav-menu" id="nav-menu">
      <a href="#things" class="nav-link">Things I've Done</a>
      <a href="#places" class="nav-link">Places I've Worked</a>
      <a href="#enjoy" class="nav-link">I Enjoy</a>
    </nav>
  </header>

  <div class="profile-container">
    <div class="profile-photo">
      <img src="https://media.licdn.com/dms/image/v2/D5603AQGCO4PKiKreuQ/profile-displayphoto-shrink_400_400/B56ZOTJX2cGgAk-/0/1733340528948?e=1749081600&v=beta&t=gNYhLw_BOh1N-Y3WjZvjxTHJ1euYAd1mUqIqxsfO4mA" alt="Hannah Stone">
    </div>
    <div class="profile-content">
      <h1>Hi, I'm Hannah👋</h1>
      <p>
        I'm a student at Columbia University interested in AI, finance, and entrepreneurship. I'm originally from Lawrence, Kansas.
      </p>
      <div class="social-links">
        <a href="https://linkedin.com/in/hannahstone1" class="icon-link" target="_blank" aria-label="LinkedIn">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
          </svg>
        </a>
        <a href="mailto:hannahstonekansas@gmail.com" class="icon-link" aria-label="Email">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
            <path d="M0 3v18h24v-18h-24zm21.518 2l-9.518 7.713-9.518-7.713h19.036zm-19.518 14v-11.817l10 8.104 10-8.104v11.817h-20z"/>
          </svg>
        </a>
      </div>
    </div>
  </div>
  
  <section id="things">
    <h2>Things I've Done...</h2>
    <ul>
      <li>Elected as 1 of 33 Key Club Governors globally to lead 200,000+ student volunteers across 50 states and 45+ countries</li>
      <li>Spoke in front of a live audience of 65,000+ and a broadcast audience in the millions</li>
      <li>Advocated for 10,000+ students in Board of Education <a href="https://lawrencekstimes.com/2023/01/11/usd497-futurescomm-20230111/" class="subtle-link">budget cut negotiations</a></li>
      <li>Designed for a $2.29M U.S. Department of Education grant initiative      </li>
    </ul>
  </section>
  
  <section id="places">
    <h2>Where I've Worked...</h2>
    <ul>
      <li><span class="company-highlight">AlixPartners</span> as a Data Specialist (current)</li>
      <li><span class="company-highlight">Women's World Banking</span> as a Development Intern</li>
      <li><span class="company-highlight">Junzi Kitchen</span> & <span class="company-highlight">Dinosaur Bar-B-Que</span> as a Consultant</li>
    </ul>
  </section>
  
  <section id="enjoy">
    <h2>I Enjoy...</h2>
    <div class="web-container" id="interest-web">
      <!-- Web nodes will be dynamically generated -->
    </div>
    <div style="text-align: center;">
      <button class="reset-button" id="reset-web">Reset Web</button>
    </div>
  </section>

  <script>
    // Hamburger menu toggle
    document.getElementById('menu-toggle').addEventListener('click', function() {
      document.getElementById('nav-menu').classList.toggle('active');
    });
    
    // Close menu when clicking on a link (mobile)
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', function() {
        document.getElementById('nav-menu').classList.remove('active');
      });
    });
    
    // Scroll indicator
    window.addEventListener('scroll', function() {
      const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
      const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      const scrolled = (winScroll / height) * 100;
      document.querySelector('.scroll-indicator').style.width = scrolled + '%';
    });
    
    // Interest Web Visualization
    (function() {
      // Data structure for the interest web
      const interestData = {
        name: "I Enjoy",
        type: "root",
        children: [
          {
            name: "Media",
            type: "category",
            icon: "📺",
            children: [
              {
                name: "Books",
                type: "subcategory",
                icon: "📚",
                children: [
                  {
                    name: "Fiction",
                    type: "item",
                    icon: "📕",
                    detail: {
                      title: "Fiction Books",
                      content: "I love literary fiction that challenges perspectives and introduces new worlds. Some of my favorite authors include Kazuo Ishiguro, Donna Tartt, and Gabriel García Márquez.",
                      link: {
                        text: "View my reading list",
                        url: "https://books.hannahstone.org"
                      }
                    }
                  },
                  {
                    name: "Non-Fiction",
                    type: "item",
                    icon: "📗",
                    detail: {
                      title: "Non-Fiction Books",
                      content: "I read a lot of business strategy, economics, and psychology books to expand my knowledge. Recently I've been exploring works on behavioral economics and decision-making.",
                      link: {
                        text: "View my reading list",
                        url: "https://books.hannahstone.org"
                      }
                    }
                  }
                ]
              },
              {
                name: "Film",
                type: "subcategory",
                icon: "🎬",
                children: [
                  {
                    name: "Directors",
                    type: "item",
                    icon: "🎥",
                    detail: {
                      title: "Favorite Directors",
                      content: "I admire the work of Alfred Hitchcock, Emerald Fennel, and Park Chan-wook. I appreciate directors who blend technical mastery with compelling storytelling.",
                      link: {
                        text: "See my film page",
                        url: "film.html"
                      }
                    }
                  },
                  {
                    name: "Movies",
                    type: "item",
                    icon: "🍿",
                    detail: {
                      title: "Favorite Films",
                      content: "Some of my all-time favorites include 'It's a Wonderful Life,' 'The Lord of the Rings: The Two Towers,' 'Memento,' and 'The Devil Wears Prada.'",
                      link: {
                        text: "See my film page",
                        url: "film.html"
                      }
                    }
                  }
                ]
              },
              {
                name: "TV Shows",
                type: "subcategory",
                icon: "📺",
                detail: {
                  title: "Television",
                  content: "I enjoy watching well-crafted series with complex characters and compelling narratives. Favorites include Succession, The White Lotus, Arrested Development, and The Bear.",
                  link: null
                }
              }
            ]
          },
          {
            name: "Travel",
            type: "category",
            icon: "✈️",
            children: [
              {
                name: "Cities",
                type: "subcategory",
                icon: "🏙️",
                detail: {
                  title: "Urban Exploration",
                  content: "I love exploring cities and their unique cultures, architecture, and cuisines. Tokyo, Barcelona, and Istanbul are among my favorite urban destinations.",
                  link: null
                }
              },
              {
                name: "Nature",
                type: "subcategory",
                icon: "🏞️",
                detail: {
                  title: "Nature Destinations",
                  content: "From Norwegian fjords to New Zealand landscapes, I'm drawn to breathtaking natural settings. Hiking and photography are my favorite activities in these locations.",
                  link: null
                }
              }
            ]
          },
          {
            name: "Sports",
            type: "category",
            icon: "🏆",
            children: [
              {
                name: "Golf",
                type: "subcategory",
                icon: "🏌️‍♀️",
                detail: {
                  title: "Golf",
                  content: "I currently play at a 14 handicap and enjoy the mental challenge golf provides. It's a perfect blend of technical skill, strategy, and outdoor appreciation.",
                  link: null
                }
              },
              {
                name: "Skiing",
                type: "subcategory",
                icon: "🎿",
                detail: {
                  title: "Skiing",
                  content: "My favorite skiing destinations include Breckenridge and Park City. I enjoy both groomed trails and powder days, and I'm comfortable on black diamond runs.",
                  link: null
                }
              }
            ]
          },
          {
            name: "Food",
            type: "category",
            icon: "🍴",
            children: [
              {
                name: "Restaurants",
                type: "subcategory",
                icon: "🍽️",
                detail: {
                  title: "Restaurant Exploration",
                  content: "I maintain a food journal documenting favorite dishes and restaurants from around the world. I especially enjoy finding hidden local gems when traveling.",
                  link: null
                }
              },
              {
                name: "Cuisines",
                type: "subcategory",
                icon: "🌮",
                detail: {
                  title: "Global Cuisines",
                  content: "Japanese, Mediterranean, and Mexican are among my favorite cuisines. I appreciate dishes that balance complexity, tradition, and innovation.",
                  link: null
                }
              }
            ]
          }
        ]
      };
      
      // Web visualization setup
      const container = document.getElementById('interest-web');
      const resetButton = document.getElementById('reset-web');
      let activeNodes = [];
      let activeLines = [];
      
      // Initialize the web with the root node
      function initWeb() {
        clearWeb();
        createNode(interestData, null);
        
        // Make root node visible after a short delay
        setTimeout(() => {
          const rootNode = document.querySelector('.web-node.root');
          if (rootNode) {
            rootNode.classList.add('visible');
            activeNodes.push(rootNode);
          }
        }, 300);
      }
      
      // Clear all nodes and lines
      function clearWeb() {
        container.innerHTML = '';
        activeNodes = [];
        activeLines = [];
      }
      
      // Reset web to initial state
      function resetWeb() {
        // Fade out all nodes
        document.querySelectorAll('.web-node.visible').forEach(node => {
          node.classList.remove('visible');
        });
        
        // Fade out all lines
        document.querySelectorAll('.web-line.visible').forEach(line => {
          line.classList.remove('visible');
        });
        
        // Re-initialize after animations complete
        setTimeout(initWeb, 500);
      }
      
      // Calculate position for a node based on its index and parent
      function calculatePosition(index, total, parent, level) {
        const containerRect = container.getBoundingClientRect();
        const centerX = containerRect.width / 2;
        const centerY = containerRect.height / 2;
        
        if (!parent) {
          // Root node goes in the center
          return { x: centerX, y: centerY };
        }
        
        const parentRect = parent.getBoundingClientRect();
        const parentX = parentRect.left - containerRect.left + parentRect.width / 2;
        const parentY = parentRect.top - containerRect.top + parentRect.height / 2;
        
        // For detail nodes, position them close to their parent
        if (level === 'detail') {
          return {
            x: parentX + 50,
            y: parentY - 50
          };
        }
        
        // Calculate radius based on level
        let radius;
        switch(level) {
          case 'category': radius = Math.min(containerRect.width, containerRect.height) * 0.25; break;
          case 'subcategory': radius = Math.min(containerRect.width, containerRect.height) * 0.35; break;
          case 'item': radius = Math.min(containerRect.width, containerRect.height) * 0.42; break;
          default: radius = Math.min(containerRect.width, containerRect.height) * 0.3;
        }
        
        // Calculate angle based on index and total
        const angleStep = (2 * Math.PI) / total;
        const angle = angleStep * index;
        
        // Position nodes in a circle around their parent
        // Add some randomization to make it look more organic
        const randRadius = radius * (0.9 + Math.random() * 0.2);
        const randAngle = angle + (Math.random() * 0.2 - 0.1);
        
        const x = centerX + randRadius * Math.cos(randAngle);
        const y = centerY + randRadius * Math.sin(randAngle);
        
        return { x, y };
      }
      
      // Create a line connecting two nodes
      function createLine(fromNode, toNode) {
        const containerRect = container.getBoundingClientRect();
        const fromRect = fromNode.getBoundingClientRect();
        const toRect = toNode.getBoundingClientRect();
        
        const fromX = fromRect.left - containerRect.left + fromRect.width / 2;
        const fromY = fromRect.top - containerRect.top + fromRect.height / 2;
        const toX = toRect.left - containerRect.left + toRect.width / 2;
        const toY = toRect.top - containerRect.top + toRect.height / 2;
        
        // Calculate distance and angle
        const dx = toX - fromX;
        const dy = toY - fromY;
        const distance = Math.sqrt(dx * dx + dy * dy);
        const angle = Math.atan2(dy, dx) * 180 / Math.PI;
        
        // Create the line element
        const line = document.createElement('div');
        line.className = 'web-line';
        line.style.width = `${distance}px`;
        line.style.left = `${fromX}px`;
        line.style.top = `${fromY}px`;
        line.style.transform = `rotate(${angle}deg)`;
        
        container.appendChild(line);
        return line;
      }
      
      // Create a node element
      function createNode(data, parentNode) {
        const node = document.createElement('div');
        node.className = `web-node ${data.type}`;
        
        // Create inner content
        const nodeContent = document.createElement('div');
        nodeContent.className = 'node-contents';
        
        // Add icon if available
        if (data.icon) {
          const iconSpan = document.createElement('span');
          iconSpan.className = 'web-node-icon';
          iconSpan.textContent = data.icon;
          nodeContent.appendChild(iconSpan);
        }
        
        // Add node name
        const nameSpan = document.createElement('span');
        nameSpan.textContent = data.name;
        nodeContent.appendChild(nameSpan);
        
        node.appendChild(nodeContent);
        
        // For detail nodes, add specific detail content
        if (data.detail) {
          node.innerHTML = '';
          node.className = 'web-node detail';
          
          const detailTitle = document.createElement('div');
          detailTitle.className = 'detail-title';
          detailTitle.textContent = data.detail.title;
          node.appendChild(detailTitle);
          
          const detailContent = document.createElement('div');
          detailContent.className = 'detail-content';
          detailContent.textContent = data.detail.content;
          node.appendChild(detailContent);
          
          if (data.detail.link) {
            const link = document.createElement('a');
            link.className = 'web-link';
            link.href = data.detail.link.url;
            link.textContent = data.detail.link.text;
            if (data.detail.link.url.startsWith('http')) {
              link.target = '_blank';
            }
            node.appendChild(link);
          }
          
          // Add back button
          const backButton = document.createElement('div');
          backButton.className = 'back-button';
          backButton.innerHTML = '×';
          backButton.addEventListener('click', function(e) {
            e.stopPropagation();
            hideNode(node);
          });
          node.appendChild(backButton);
        }
        
        container.appendChild(node);
        
        // Add click event to expand/collapse children
        node.addEventListener('click', function() {
          if (data.children) {
            if (isExpanded(data.name)) {
              // Collapse this node's children
              collapseNode(node, data);
            } else {
              // Expand this node's children
              expandNode(node, data);
            }
          } else if (data.detail && !node.classList.contains('detail')) {
            // Show detail node
            showDetailNode(data, node);
          }
        });
        
        return node;
      }
      
      // Check if node is already expanded
      function isExpanded(nodeName) {
        return activeNodes.some(node => {
          return node.querySelector('.node-contents span:last-child')?.textContent === nodeName &&
                 node.nextElementSibling &&
                 node.nextElementSibling.classList.contains('visible');
        });
      }
      
      // Show detail node for an item
      function showDetailNode(data, parentNode) {
        // Create a detail node as a child of the clicked node
        const detailNode = document.createElement('div');
        detailNode.className = 'web-node detail';
        
        // Add title
        const detailTitle = document.createElement('div');
        detailTitle.className = 'detail-title';
        detailTitle.textContent = data.detail.title;
        detailNode.appendChild(detailTitle);
        
        // Add content
        const detailContent = document.createElement('div');
        detailContent.className = 'detail-content';
        detailContent.textContent = data.detail.content;
        detailNode.appendChild(detailContent);
        
        // Add link if available
        if (data.detail.link) {
          const link = document.createElement('a');
          link.className = 'web-link';
          link.href = data.detail.link.url;
          link.textContent = data.detail.link.text;
          if (data.detail.link.url.startsWith('http')) {
            link.target = '_blank';
          }
          detailNode.appendChild(link);
        }
        
        // Add back button
        const backButton = document.createElement('div');
        backButton.className = 'back-button';
        backButton.innerHTML = '×';
        backButton.addEventListener('click', function(e) {
          e.stopPropagation();
          hideNode(detailNode);
        });
        detailNode.appendChild(backButton);
        
        // Position the detail node
        const position = calculatePosition(0, 1, parentNode, 'detail');
        detailNode.style.left = `${position.x - 120}px`;
        detailNode.style.top = `${position.y - 120}px`;
        
        container.appendChild(detailNode);
        
        // Create connecting line
        const line = createLine(parentNode, detailNode);
        activeLines.push(line);
        
        // Add to active nodes
        activeNodes.push(detailNode);
        
        // Make visible with animation
        setTimeout(() => {
          detailNode.classList.add('visible');
          line.classList.add('visible');
        }, 50);
      }
      
      // Expand a node to show its children
      function expandNode(node, data) {
        if (!data.children || data.children.length === 0) return;
        
        // Create child nodes
        const childNodes = [];
        data.children.forEach((childData, index) => {
          const childNode = createNode(childData, node);
          const position = calculatePosition(index, data.children.length, node, childData.type);
          
          childNode.style.left = `${position.x - childNode.offsetWidth / 2}px`;
          childNode.style.top = `${position.y - childNode.offsetHeight / 2}px`;
          
          childNodes.push(childNode);
          activeNodes.push(childNode);
          
          // Create connecting line
          const line = createLine(node, childNode);
          activeLines.push(line);
          
          // Make nodes and lines visible with staggered animation
          setTimeout(() => {
            childNode.classList.add('visible');
            line.classList.add('visible');
          }, 50 + index * 100);
        });
      }
      
      // Collapse a node's children
      function collapseNode(node) {
        const nodeName = node.querySelector('.node-contents span:last-child')?.textContent;
        
        // Find and hide all direct children of this node
        const childNodes = activeNodes.filter(activeNode => {
          // Skip if this is the node itself
          if (activeNode === node) return false;
          
          // Check if there's a line connecting this node to the child
          const hasConnection = activeLines.some(line => {
            const fromRect = node.getBoundingClientRect();
            const lineRect = line.getBoundingClientRect();
            
            // Simple check if line starts near this node
            return Math.abs(lineRect.left - (fromRect.left + fromRect.width / 2)) < 5 &&
                   Math.abs(lineRect.top - (fromRect.top + fromRect.height / 2)) < 5;
          });
          
          return hasConnection;
        });
        
        // Hide all children
        childNodes.forEach(childNode => {
          hideNode(childNode);
        });
      }
      
      // Hide a node and its connecting line
      function hideNode(node) {
        // Remove visible class to animate out
        node.classList.remove('visible');
        
        // Find and hide any lines connected to this node
        const connectedLines = activeLines.filter(line => {
          const nodeRect = node.getBoundingClientRect();
          const lineRect = line.getBoundingClientRect();
          
          // Check if line starts or ends near this node
          return (Math.abs(lineRect.left - (nodeRect.left + nodeRect.width / 2)) < 10 &&
                 Math.abs(lineRect.top - (nodeRect.top + nodeRect.height / 2)) < 10) ||
                 (Math.abs(lineRect.left + lineRect.width - (nodeRect.left + nodeRect.width / 2)) < 10 &&
                 Math.abs(lineRect.top + lineRect.height - (nodeRect.top + nodeRect.height / 2)) < 10);
        });
        
        connectedLines.forEach(line => {
          line.classList.remove('visible');
        });
        
        // Remove from DOM after animation completes
        setTimeout(() => {
          // Find and remove any children of this node
          const childNodes = activeNodes.filter(activeNode => {
            // Skip if this is the node itself
            if (activeNode === node) return false;
            
            // Check if there's a line connecting this node to the child
            const hasConnection = connectedLines.some(line => {
              const nodeRect = node.getBoundingClientRect();
              const lineRect = line.getBoundingClientRect();
              
              // Simple check if line starts near this node
              return Math.abs(lineRect.left - (nodeRect.left + nodeRect.width / 2)) < 5 &&
                     Math.abs(lineRect.top - (nodeRect.top + nodeRect.height / 2)) < 5;
            });
            
            return hasConnection;
          });
          
          // Recursively hide children
          childNodes.forEach(childNode => {
            hideNode(childNode);
          });
          
          // Remove this node and its lines
          if (node.parentNode) {
            node.parentNode.removeChild(node);
          }
          
          connectedLines.forEach(line => {
            if (line.parentNode) {
              line.parentNode.removeChild(line);
            }
          });
          
          // Update active nodes and lines
          activeNodes = activeNodes.filter(n => n !== node);
          activeLines = activeLines.filter(l => !connectedLines.includes(l));
        }, 500);
      }
      
      // Initialize web on load
      initWeb();
      
      // Reset button event
      resetButton.addEventListener('click', resetWeb);
      
      // Handle window resize
      let resizeTimeout;
      window.addEventListener('resize', function() {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(resetWeb, 250);
      });
    })();
  </script>
</body>
</html>